--- Modules/pwdmodule.c.orig	2017-08-06 15:17:15.150696238 +0530
+++ Modules/pwdmodule.c	2017-08-06 15:24:51.550696238 +0530
@@ -82,7 +82,7 @@
 #endif
     PyStructSequence_SET_ITEM(v, setIndex++, _PyLong_FromUid(p->pw_uid));
     PyStructSequence_SET_ITEM(v, setIndex++, _PyLong_FromGid(p->pw_gid));
-#if defined(HAVE_STRUCT_PASSWD_PW_GECOS)
+#if defined(HAVE_STRUCT_PASSWD_PW_GECOS) && !defined(__ANDROID__)
     SETS(setIndex++, p->pw_gecos);
 #else
     SETS(setIndex++, "");

--- Modules/termios.c.orig	2017-08-06 15:17:42.822696238 +0530
+++ Modules/termios.c	2017-08-06 15:37:30.242696238 +0530
@@ -220,6 +220,7 @@
     return Py_None;
 }
 
+#if !defined(__ANDROID__)
 PyDoc_STRVAR(termios_tcdrain__doc__,
 "tcdrain(fd) -> None\n\
 \n\
@@ -239,6 +240,7 @@
     Py_INCREF(Py_None);
     return Py_None;
 }
+#endif
 
 PyDoc_STRVAR(termios_tcflush__doc__,
 "tcflush(fd, queue) -> None\n\
@@ -294,8 +296,10 @@
      METH_VARARGS, termios_tcsetattr__doc__},
     {"tcsendbreak", termios_tcsendbreak,
      METH_VARARGS, termios_tcsendbreak__doc__},
+     #if !defined(__ANDROID__)
     {"tcdrain", termios_tcdrain,
      METH_VARARGS, termios_tcdrain__doc__},
+     #endif
     {"tcflush", termios_tcflush,
      METH_VARARGS, termios_tcflush__doc__},
     {"tcflow", termios_tcflow,

--- Modules/posixmodule.c
+++ Modules/posixmodule.c
@@ -1932,7 +1932,7 @@
         return NULL;
 
     PyStructSequence_SET_ITEM(v, 0, PyLong_FromLong((long)st->st_mode));
-#if defined(HAVE_LARGEFILE_SUPPORT) || defined(MS_WINDOWS)
+#if defined(HAVE_LARGEFILE_SUPPORT) || defined(MS_WINDOWS) || defined(ANDROID)
     Py_BUILD_ASSERT(sizeof(unsigned long long) >= sizeof(st->st_ino));
     PyStructSequence_SET_ITEM(v, 1,
                               PyLong_FromUnsignedLongLong(st->st_ino));
