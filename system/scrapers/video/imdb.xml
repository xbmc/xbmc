<scraper name="IMDb" content="movies">
	<CreateSearchUrl dest="3">
		<RegExp input="$$1" output="http://akas.imdb.com/find?s=tt;q=\1" dest="3">
			<expression noclean="1"></expression>
		</RegExp>
	</CreateSearchUrl>
	<GetSearchResults dest="8">
		<RegExp input="$$5" output="&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot; standalone=&quot;yes&quot;?&gt;&lt;results&gt;\1&lt;/results&gt;" dest="8">
			<RegExp input="$$2" output="\1" dest="7">
				<expression>http://akas.imdb.com/title/([t0-9]*)/</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;movie&gt;&lt;title&gt;\1&lt;/title&gt;&lt;url&gt;$$2&lt;/url&gt;&lt;url&gt;$$2/plotsummary.html&lt;/url&gt;&lt;id&gt;$$7&lt;/id&gt;&lt;/movie&gt;" dest="5">
				<expression noclean="1">&quot;title&quot;&gt;.*Genre:.*Plot&gt; *([^&lt;]*)&lt;</expression>
			</RegExp>
			<RegExp input="$$1" output="\1" dest="4">
				<expression noclean="1">Popular Results&lt;/h2&gt;(.*)&lt;b&gt;Suggestions For Improving Your Results&lt;/b&gt;</expression>
			</RegExp>
			<RegExp input="$$4" output="&lt;movie&gt;&lt;title&gt;\2 (\3)&lt;/title&gt;&lt;url&gt;http://akas.imdb.com/title/\1/&lt;/url&gt;&lt;url&gt;http://akas.imdb.com/title/\1/plotsummary&lt;/url&gt;&lt;id&gt;\1&lt;/id&gt;&lt;/movie&gt;" dest="5+">
				<expression repeat="yes" noclean="1,2">&lt;a href=&quot;/title/([t0-9]*)/[^&gt;]*&gt;([^&lt;]*)&lt;/a&gt; *\(([0-9]*)</expression>
			</RegExp>
			<expression noclean="1"></expression>
		</RegExp>
	</GetSearchResults>
	<GetDetails dest="3">
		<RegExp input="$$5" output="&lt;details&gt;\1&lt;/details&gt;" dest="3">
			<RegExp intput="$$1" output="&lt;title&gt;\1&lt;/title&gt;" dest="5">
				<expression noclean="1">&quot;title&quot;&gt; *([^&lt;]*) &lt;</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;year&gt;\1&lt;/year&gt;" dest="5+">
				<expression>a href=&quot;/Sections/Years/([0-9]*)&quot;&gt;</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;director&gt;\1&lt;/director&gt;" dest="5+">
				<expression>Created by&lt;/b&gt;[^&quot;]*&quot;[^&gt;]*&gt;([^&lt;]*)&lt;/a&gt;</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;director&gt;\1&lt;/director&gt;" dest="5+">
				<expression>Directed by&lt;/b&gt;[^&quot;]*&quot;[^&gt;]*&gt;([^&lt;]*)&lt;/a&gt;</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;top250&gt;\1&lt;/top250&gt;" dest="5+">
				<expression>top 250: #([^&lt;]*)&lt;</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;mpaa&gt;\1&lt;/mpaa&gt;" dest="5+">
				<expression>MPAA&lt;/a&gt;:&lt;/b&gt;([^&lt;]*)&lt;</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;tagline&gt;\1&lt;/tagline&gt;" dest="5+">
				<expression>Tagline:&lt;/b&gt;([^&lt;]*)&lt;</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;runtime&gt;\1 min&lt;/runtime&gt;" dest="5+">
				<expression>Runtime:&lt;/b&gt;[^0-9]*([0-9a-zA-Z]*)</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;thumb&gt;\1&lt;/thumb&gt;" dest="5+">
				<expression noclean="1">&lt;a name=&quot;poster&quot;[^&lt;]+&gt;&lt;[^&gt;]+src=&quot;([^&quot;]*)&quot;</expression>
			</RegExp>
			<RegExp input="$$1" output="\1" dest="6">
				<expression>(Writing credits[^%]*)%</expression>
			</RegExp>
			<RegExp input="$$7" output="&lt;credits&gt;\1&lt;/credits&gt;" dest="5+">
				<RegExp input="$$6" output=" / \1" dest="7">
					<expression repeat="yes">&lt;a href=&quot;/name/[^&gt;]*&gt;([^&lt;]*)&lt;</expression>
				</RegExp>
				<expression> / (.*)</expression>
			</RegExp>
			<RegExp input="$$1" output="\1" dest="6">
				<expression>User Rating:&lt;/b&gt;(.*)</expression>
			</RegExp>
			<RegExp input="$$6" output="&lt;rating&gt;\1&lt;/rating&gt;&lt;votes&gt;\2&lt;/votes&gt;" dest="5+">
				<expression>&lt;b&gt;([.0-9]*)/10&lt;/b&gt; \(([,0-9]*) vote</expression>
			</RegExp>
			<RegExp input="$$1" output="\1" dest="7">
				<expression>Genre:([^\(]*)\(more\)</expression>
			</RegExp>
			<RegExp input="$$6" output="&lt;genre&gt;\1&lt;/genre&gt;" dest="5+">
				<RegExp input="$$7" output=" / \1" dest="6">
					<expression repeat="yes">&lt;a href[^&gt;]*&gt;([^&lt;]*)&lt;/a&gt;</expression>
				</RegExp>
				<expression> / (.*)</expression>
			</RegExp>
			<RegExp input="$$6" output="&lt;cast&gt;Cast overview:\n\1&lt;/cast&gt;" dest="5+">
				<RegExp input="$$1" output="\1" dest="7">
					<expression>first billed only: &lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;(.*)</expression>
				</RegExp>
				<RegExp input="$$1" output="\1" dest="7+">
					<expression>Credited cast:(.*)</expression>
				</RegExp>
				<RegExp input="$$7" output="\1 as \2\n" dest="6">
					<expression repeat="yes">&lt;a href=[^&gt;]*&gt;([^&lt;]*)&lt;/a&gt;&lt;/td&gt;[^&quot;]*&quot;middle&quot;[^&lt;]*&lt;/td&gt;[^&quot;]*&quot;middle&quot;&gt;([^&lt;]*)</expression>
				</RegExp>
<!--				<RegExp input="$$8" output="\1 \(as \2\)\n" dest="6"> 
					<expression repeat="yes" optional="2">([^\n]*) as ([^\n]*)?\n</expression> !--> <!-- use optional if you need to know if a replacestring was found !-->
<!--				</RegExp> !-->
				<expression></expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;outline&gt;\2&lt;/outline&gt;" dest="5+">
				<expression>Plot (Outline|Summary):&lt;/b&gt;([^&lt;]*)&lt;</expression>
			</RegExp>
			<RegExp input="$$6$$7" output="&lt;plot&gt;\1&lt;/plot&gt;" dest="5+">
				<RegExp input="$$2" output="\1" dest="6">
					<expression clear="yes">&lt;p class=&quot;plotpar&quot;&gt;([^\n]*)&lt;/p&gt;\n</expression> <!-- clear - clear whether the regexp is successful or not !-->
				</RegExp>
				<RegExp input="$$6" output="" dest="1">
					<expression>.</expression>
				</RegExp>
				<RegExp input="$$1" output="\2" dest="7">
					<expression clear="yes">Plot (Outline|Summary):&lt;/b&gt;([^&lt;]*)&lt;</expression>
				</RegExp>
				<expression></expression>
			</RegExp>
			<expression noclean="1"></expression>
		</RegExp>
	</GetDetails>
</scraper>
